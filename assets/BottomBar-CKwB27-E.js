import{q as g,t as ae,u as c,v as S,w as f,_ as m,F as ce,p as $,x as E,y as D,z as le,A as se,B as ie,G as Z}from"./main-D7DpCR7x.js";import{B as Y,I as T}from"./Icon-D79zxqdk.js";const ue="_wrapper_1l1y6_1",pe="_cooldown_1l1y6_19",fe="_coordinates_1l1y6_24",de="_palette_1l1y6_33",ve="_notifications_1l1y6_37",q={wrapper:ue,cooldown:pe,coordinates:fe,palette:de,notifications:ve},he="_wrapper_ybck9_1",_e="_progress_ybck9_8",ge="_label_ybck9_18",A={wrapper:he,progress:_e,label:ge};function me(){const e=g(ae);return e.hasCooldown.value?c("div",{className:A.wrapper,children:[c("progress",{className:A.progress,value:e.progress,max:"100"}),c("p",{className:A.label,children:[e.progress.value.toFixed(0),"%"]})]}):null}const be="_group_1aovs_1",we={group:be};function G({children:e}){return c("div",{className:we.group,children:e})}const xe="_color_gk3h4_1",Ce="_appear_gk3h4_1",ye={color:xe,appear:Ce};function Ne({color:e}){const t=g(S);return c("input",{type:"radio",name:"palette",value:e.toHex(),className:ye.color,style:{backgroundColor:e.toHex()},checked:e.equals(t.palette.value.selected),onChange:()=>t.setCurrentColor(e)})}const ke="_wrapper_n8bdy_1",$e="_buttons_n8bdy_9",Ee="_button_n8bdy_9",z={wrapper:ke,buttons:$e,button:Ee};function C(){return(C=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var o in n)Object.prototype.hasOwnProperty.call(n,o)&&(e[o]=n[o])}return e}).apply(this,arguments)}function P(e,t){if(e==null)return{};var n,o,r={},a=Object.keys(e);for(o=0;o<a.length;o++)t.indexOf(n=a[o])>=0||(r[n]=e[n]);return r}function M(e){var t=m(e),n=m(function(o){t.current&&t.current(o)});return t.current=e,n.current}var H=function(e,t,n){return t===void 0&&(t=0),n===void 0&&(n=1),e>n?n:e<t?t:e},k=function(e){return"touches"in e},K=function(e){return e&&e.ownerDocument.defaultView||self},V=function(e,t,n){var o=e.getBoundingClientRect(),r=k(t)?function(a,l){for(var s=0;s<a.length;s++)if(a[s].identifier===l)return a[s];return a[0]}(t.touches,n):t;return{left:H((r.pageX-(o.left+K(e).pageXOffset))/o.width),top:H((r.pageY-(o.top+K(e).pageYOffset))/o.height)}},J=function(e){!k(e)&&e.preventDefault()},ee=f.memo(function(e){var t=e.onMove,n=e.onKey,o=P(e,["onMove","onKey"]),r=m(null),a=M(t),l=M(n),s=m(null),p=m(!1),i=ce(function(){var I=function(h){J(h),(k(h)?h.touches.length>0:h.buttons>0)&&r.current?a(V(r.current,h,s.current)):x(!1)},B=function(){return x(!1)};function x(h){var u=p.current,_=K(r.current),y=h?_.addEventListener:_.removeEventListener;y(u?"touchmove":"mousemove",I),y(u?"touchend":"mouseup",B)}return[function(h){var u=h.nativeEvent,_=r.current;if(_&&(J(u),!function(oe,re){return re&&!k(oe)}(u,p.current)&&_)){if(k(u)){p.current=!0;var y=u.changedTouches||[];y.length&&(s.current=y[0].identifier)}_.focus(),a(V(_,u,s.current)),x(!0)}},function(h){var u=h.which||h.keyCode;u<37||u>40||(h.preventDefault(),l({left:u===39?.05:u===37?-.05:0,top:u===40?.05:u===38?-.05:0}))},x]},[l,a]),v=i[0],b=i[1],w=i[2];return $(function(){return w},[w]),f.createElement("div",C({},o,{onTouchStart:v,onMouseDown:v,className:"react-colorful__interactive",ref:r,onKeyDown:b,tabIndex:0,role:"slider"}))}),X=function(e){return e.filter(Boolean).join(" ")},te=function(e){var t=e.color,n=e.left,o=e.top,r=o===void 0?.5:o,a=X(["react-colorful__pointer",e.className]);return f.createElement("div",{className:a,style:{top:100*r+"%",left:100*n+"%"}},f.createElement("div",{className:"react-colorful__pointer-fill",style:{backgroundColor:t}}))},d=function(e,t,n){return t===void 0&&(t=0),n===void 0&&(n=Math.pow(10,t)),Math.round(n*e)/n},Me=function(e){return ze(L(e))},L=function(e){return e[0]==="#"&&(e=e.substring(1)),e.length<6?{r:parseInt(e[0]+e[0],16),g:parseInt(e[1]+e[1],16),b:parseInt(e[2]+e[2],16),a:e.length===4?d(parseInt(e[3]+e[3],16)/255,2):1}:{r:parseInt(e.substring(0,2),16),g:parseInt(e.substring(2,4),16),b:parseInt(e.substring(4,6),16),a:e.length===8?d(parseInt(e.substring(6,8),16)/255,2):1}},He=function(e){return qe(Be(e))},Ie=function(e){var t=e.s,n=e.v,o=e.a,r=(200-t)*n/100;return{h:d(e.h),s:d(r>0&&r<200?t*n/100/(r<=100?r:200-r)*100:0),l:d(r/2),a:d(o,2)}},j=function(e){var t=Ie(e);return"hsl("+t.h+", "+t.s+"%, "+t.l+"%)"},Be=function(e){var t=e.h,n=e.s,o=e.v,r=e.a;t=t/360*6,n/=100,o/=100;var a=Math.floor(t),l=o*(1-n),s=o*(1-(t-a)*n),p=o*(1-(1-t+a)*n),i=a%6;return{r:d(255*[o,s,l,l,p,o][i]),g:d(255*[p,o,o,s,l,l][i]),b:d(255*[l,l,p,o,o,s][i]),a:d(r,2)}},O=function(e){var t=e.toString(16);return t.length<2?"0"+t:t},qe=function(e){var t=e.r,n=e.g,o=e.b,r=e.a,a=r<1?O(d(255*r)):"";return"#"+O(t)+O(n)+O(o)+a},ze=function(e){var t=e.r,n=e.g,o=e.b,r=e.a,a=Math.max(t,n,o),l=a-Math.min(t,n,o),s=l?a===t?(n-o)/l:a===n?2+(o-t)/l:4+(t-n)/l:0;return{h:d(60*(s<0?s+6:s)),s:d(a?l/a*100:0),v:d(a/255*100),a:r}},Oe=f.memo(function(e){var t=e.hue,n=e.onChange,o=X(["react-colorful__hue",e.className]);return f.createElement("div",{className:o},f.createElement(ee,{onMove:function(r){n({h:360*r.left})},onKey:function(r){n({h:H(t+360*r.left,0,360)})},"aria-label":"Hue","aria-valuenow":d(t),"aria-valuemax":"360","aria-valuemin":"0"},f.createElement(te,{className:"react-colorful__hue-pointer",left:t/360,color:j({h:t,s:100,v:100,a:1})})))}),De=f.memo(function(e){var t=e.hsva,n=e.onChange,o={backgroundColor:j({h:t.h,s:100,v:100,a:1})};return f.createElement("div",{className:"react-colorful__saturation",style:o},f.createElement(ee,{onMove:function(r){n({s:100*r.left,v:100-100*r.top})},onKey:function(r){n({s:H(t.s+100*r.left,0,100),v:H(t.v-100*r.top,0,100)})},"aria-label":"Color","aria-valuetext":"Saturation "+d(t.s)+"%, Brightness "+d(t.v)+"%"},f.createElement(te,{className:"react-colorful__saturation-pointer",top:1-t.v/100,left:t.s/100,color:j(t)})))}),ne=function(e,t){if(e===t)return!0;for(var n in e)if(e[n]!==t[n])return!1;return!0},Se=function(e,t){return e.toLowerCase()===t.toLowerCase()||ne(L(e),L(t))};function Pe(e,t,n){var o=M(n),r=D(function(){return e.toHsva(t)}),a=r[0],l=r[1],s=m({color:t,hsva:a});$(function(){if(!e.equal(t,s.current.color)){var i=e.toHsva(t);s.current={hsva:i,color:t},l(i)}},[t,e]),$(function(){var i;ne(a,s.current.hsva)||e.equal(i=e.fromHsva(a),s.current.color)||(s.current={hsva:a,color:i},o(i))},[a,e,o]);var p=E(function(i){l(function(v){return Object.assign({},v,i)})},[]);return[a,p]}var Ae=typeof window<"u"?le:$,Fe=function(){return typeof __webpack_nonce__<"u"?__webpack_nonce__:void 0},Q=new Map,Ke=function(e){Ae(function(){var t=e.current?e.current.ownerDocument:document;if(t!==void 0&&!Q.has(t)){var n=t.createElement("style");n.innerHTML=`.react-colorful{position:relative;display:flex;flex-direction:column;width:200px;height:200px;-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none;cursor:default}.react-colorful__saturation{position:relative;flex-grow:1;border-color:transparent;border-bottom:12px solid #000;border-radius:8px 8px 0 0;background-image:linear-gradient(0deg,#000,transparent),linear-gradient(90deg,#fff,hsla(0,0%,100%,0))}.react-colorful__alpha-gradient,.react-colorful__pointer-fill{content:"";position:absolute;left:0;top:0;right:0;bottom:0;pointer-events:none;border-radius:inherit}.react-colorful__alpha-gradient,.react-colorful__saturation{box-shadow:inset 0 0 0 1px rgba(0,0,0,.05)}.react-colorful__alpha,.react-colorful__hue{position:relative;height:24px}.react-colorful__hue{background:linear-gradient(90deg,red 0,#ff0 17%,#0f0 33%,#0ff 50%,#00f 67%,#f0f 83%,red)}.react-colorful__last-control{border-radius:0 0 8px 8px}.react-colorful__interactive{position:absolute;left:0;top:0;right:0;bottom:0;border-radius:inherit;outline:none;touch-action:none}.react-colorful__pointer{position:absolute;z-index:1;box-sizing:border-box;width:28px;height:28px;transform:translate(-50%,-50%);background-color:#fff;border:2px solid #fff;border-radius:50%;box-shadow:0 2px 4px rgba(0,0,0,.2)}.react-colorful__interactive:focus .react-colorful__pointer{transform:translate(-50%,-50%) scale(1.1)}.react-colorful__alpha,.react-colorful__alpha-pointer{background-color:#fff;background-image:url('data:image/svg+xml;charset=utf-8,<svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" fill-opacity=".05"><path d="M8 0h8v8H8zM0 8h8v8H0z"/></svg>')}.react-colorful__saturation-pointer{z-index:3}.react-colorful__hue-pointer{z-index:2}`,Q.set(t,n);var o=Fe();o&&n.setAttribute("nonce",o),t.head.appendChild(n)}},[])},Le=function(e){var t=e.className,n=e.colorModel,o=e.color,r=o===void 0?n.defaultColor:o,a=e.onChange,l=P(e,["className","colorModel","color","onChange"]),s=m(null);Ke(s);var p=Pe(n,r,a),i=p[0],v=p[1],b=X(["react-colorful",t]);return f.createElement("div",C({},l,{ref:s,className:b}),f.createElement(De,{hsva:i,onChange:v}),f.createElement(Oe,{hue:i.h,onChange:v,className:"react-colorful__last-control"}))},je={defaultColor:"000",toHsva:Me,fromHsva:function(e){return He({h:e.h,s:e.s,v:e.v,a:1})},equal:Se},Te=function(e){return f.createElement(Le,C({},e,{colorModel:je}))},Xe=/^#?([0-9A-F]{3,8})$/i,Ye=function(e){var t=e.color,n=t===void 0?"":t,o=e.onChange,r=e.onBlur,a=e.escape,l=e.validate,s=e.format,p=e.process,i=P(e,["color","onChange","onBlur","escape","validate","format","process"]),v=D(function(){return a(n)}),b=v[0],w=v[1],I=M(o),B=M(r),x=E(function(u){var _=a(u.target.value);w(_),l(_)&&I(p?p(_):_)},[a,p,l,I]),h=E(function(u){l(u.target.value)||w(a(n)),B(u)},[n,a,l,B]);return $(function(){w(a(n))},[n,a]),f.createElement("input",C({},i,{value:s?s(b):b,spellCheck:"false",onChange:x,onBlur:h}))},R=function(e){return"#"+e},Ge=function(e){var t=e.prefixed,n=e.alpha,o=P(e,["prefixed","alpha"]),r=E(function(l){return l.replace(/([^0-9A-F]+)/gi,"").substring(0,n?8:6)},[n]),a=E(function(l){return function(s,p){var i=Xe.exec(s),v=i?i[1].length:0;return v===3||v===6||!!p&&v===4||!!p&&v===8}(l,n)},[n]);return f.createElement(Ye,C({},o,{escape:r,format:t?R:void 0,process:R,validate:a}))};function Ve(){const e=g(S),[t,n]=D(e.palette.value.selected.toHex()),[o,r]=D(!1);function a(){r(!o),e.addAndSelect(new se(t))}function l(){r(!o)}function s(){n(e.palette.value.selected.toHex()),l()}return c("div",{className:z.wrapper,children:[o?c("div",{className:"color-picker",children:[c(Te,{color:t,onChange:n}),c(Ge,{color:t,onChange:n,prefixed:!0}),c("div",{className:z.buttons,children:[c(Y,{onClick:a,children:"Готово"}),c(Y,{onClick:l,type:"danger",children:"Отмена"})]})]}):null,c("button",{onClick:s,className:z.button,children:c(T,{icon:"plus",className:z.icon})})]})}const Je="_button_rn6tb_1",Qe="_icon_rn6tb_19",U={button:Je,icon:Qe};function Re(){const e=g(S);return c("button",{className:U.button,onClick:()=>e.removeColor(e.palette.value.selected),disabled:e.isDefaultColor(e.palette.value.selected),children:c(T,{icon:"plus",className:U.icon})})}const Ue="_wrapper_1yg7w_1",We="_input_1yg7w_5",Ze="_icon_1yg7w_25",F={wrapper:Ue,input:We,icon:Ze};function et(){const e=g(ie);return c("div",{className:F.wrapper,children:[c("input",{type:"checkbox",name:"color-pick",className:F.input,onInput:()=>e.toggle(),checked:e.isEnabled.value}),c(T,{icon:"color-picker",className:F.icon,viewBoxSize:21})]})}const tt="_palette_p4wtl_1",nt="_hr_p4wtl_35",W={palette:tt,"scale-down":"_scale-down_p4wtl_1",hr:nt};function ot(){const e=g(S);return e.load(),c("div",{className:W.palette,children:[c(G,{children:e.palette.value.colors.map(t=>c(Ne,{color:t}))}),c("hr",{className:W.hr}),c(G,{children:[c(et,{}),c(Ve,{}),c(Re,{})]})]})}const rt="_coordinates_shzur_1",at="_appear_shzur_1",ct={coordinates:rt,appear:at};function lt(){const e=g(Z);return e.areCoordinatesSet.value?c("p",{className:ct.coordinates,children:e.coordinates.value.x+", "+e.coordinates.value.y}):null}const st="_wrapper_1t57q_1",it="_appear_1t57q_1",ut="_tag_1t57q_9",N={wrapper:st,appear:it,tag:ut};function pt(){const e=g(Z);if(e.info.value===null)return null;if(e.info.value==="loading")return c("div",{className:N.wrapper,children:"Загрузка..."});const t=e.info.value.author??"Без автора";return c("div",{className:N.wrapper,children:c("p",{className:N.info,children:[c("strong",{className:N.author,children:t}),e.info.value.tag&&c("span",{className:N.tag,children:e.info.value.tag})]})})}function vt(){return c("div",{className:q.wrapper,children:[c("div",{className:q.coordinates,children:[c(pt,{}),c(lt,{})]}),c("div",{className:q.cooldown,children:c(me,{})}),c("div",{className:q.palette,children:c(ot,{})})]})}export{vt as BottomBar};
